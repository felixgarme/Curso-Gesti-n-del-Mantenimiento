<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <!-- Estilos -->
  <link rel="stylesheet" href="../assets/css/main_ex.css" />
  <link rel="stylesheet" href="../assets/css/sidebar.css" />
  <link rel="stylesheet" href="../assets/css/ProgressBar.css" />
  <link rel="stylesheet" href="../assets/css/ex1.css" />
  <link rel="stylesheet" href="../assets/css/M2/M2_s6.css" />


  <!-- Scripts -->
  <script src="../js/sidebar.js" defer></script>
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
</head>

<body>
    <button class="back-page-btn" onclick="backPage()">
        <span class="arrow">❮</span>
    </button>
    <nav id="sidebar" class="close">
        <div id="logo-seccion">
            <a href="">
                <img src="../assets/images/logo_blanco.png" height="10px" alt="logo">
            </a>
            <button id="toggle-btn">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000">
                    <path d="M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z" />
                </svg>
            </button>
        </div>
        <div id="barra">
            <span id="barra-titulo"><strong>Progreso del Curso</strong></span>
            <div id="progreso-container">
                <div id="progreso-barra"></div>
                <span id="progreso-texto">0%</span>
            </div>
        </div>
        <div id="menu-container"></div>
    </nav>


  <!-- Logo inferior -->
  <div class="logo-container"><img src="../assets/images/logo_color.png" alt="Logo AngloAmerican" class="logo" /></div>


  <!-- Título principal -->
  <header><h1 class="titulo-epp" style="margin: 40px;"><span class="gradient-text2">Mantenimiento y RCM</span></h1></header>

  <!-- Contenido principal -->
  <div id="info" class="container" style="margin-left: 15%; margin-right: 15%;">


    <title>Mantenimiento y RCM - Curso Interactivo</title>


    <div class="rcm-container">

        <div class="rcm-progress">
            <div class="rcm-progress-bar" id="progressBar"></div>
        </div>

        <div id="section1" class="rcm-section">
            <div class="rcm-grid">
                <div class="rcm-card" onclick="toggleCard(this)">
                    <div class="rcm-card-header">
                        <div class="rcm-icon">M</div>
                        <h3 class="rcm-card-title">Definición de Mantener</h3>
                    </div>
                    <div class="rcm-card-content">
                        Los diccionarios más importantes definen mantener como causar que continúe (Oxford), o conservar su estado existente (Webster), o conservar cada cosa en su ser (Real Academia Española). Esto sugiere que "mantenimiento" significa preservar algo.
                    </div>
                </div>

                <div class="rcm-card" onclick="toggleCard(this)">
                    <div class="rcm-card-header">
                        <div class="rcm-icon">vs</div>
                        <h3 class="rcm-card-title">Mantener vs Modificar</h3>
                    </div>
                    <div class="rcm-card-content">
                        Por otro lado, están de acuerdo con que modificar algo significa cambiarlo de alguna manera. Esta diferencia entre mantener y modificar tiene profundas implicancias para la gestión de activos físicos.
                    </div>
                </div>
            </div>

            <div class="rcm-interactive-section">
                <div class="rcm-question">¿Qué es lo que deseamos preservar al mantener un activo?</div>
                <div class="rcm-card-content" style="margin-bottom: 10px;">
                    Cuando nos disponemos a mantener algo, ¿Qué es eso que deseamos causar que continúe? ¿Cuál es el estado existente que deseamos preservar? La respuesta está dada por el hecho de que todo activo físico es puesto en funcionamiento porque alguien quiere que haga algo, en otras palabras, se espera que cumpla una función o ciertas funciones específicas.
                </div>
                <div class="rcm-answer" onclick="selectAnswer(this, false)">El estado físico original del activo</div>
                <div class="rcm-answer" onclick="selectAnswer(this, true)">La capacidad del activo de cumplir sus funciones específicas</div>
                <div class="rcm-answer" onclick="selectAnswer(this, false)">La apariencia externa del activo</div>
            </div>

            <div class="rcm-definition-box">
                <div class="rcm-definition-title">Mantenimiento:</div>
                <div class="rcm-definition-text">Asegurar que los activos físicos continúen haciendo lo que sus usuarios quieren que hagan</div>
            </div>
        </div>

        <div id="section2" class="rcm-section" style="display: none;">
            <div class="rcm-grid">
                <div class="rcm-card" onclick="toggleCard(this)">
                    <div class="rcm-card-header">
                        <div class="rcm-icon">C</div>
                        <h3 class="rcm-card-title">Contexto Operacional</h3>
                    </div>
                    <div class="rcm-card-content">
                        Los requerimientos de los usuarios van a depender de dónde y cómo se utilice el activo (contexto operacional). Este contexto determina qué funciones específicas debe cumplir el activo.
                    </div>
                </div>

                <div class="rcm-card" onclick="toggleCard(this)">
                    <div class="rcm-card-header">
                        <div class="rcm-icon">RCM</div>
                        <h3 class="rcm-card-title">Mantenimiento Centrado en Confiabilidad</h3>
                    </div>
                    <div class="rcm-card-content">
                        Un proceso utilizado para determinar qué se debe hacer para asegurar que cualquier activo físico continúe haciendo lo que sus usuarios quieren que haga en su contexto operacional actual.
                    </div>
                </div>
            </div>

            <div class="rcm-interactive-section">
                <div class="rcm-question">¿Qué determina los requerimientos específicos de mantenimiento de un activo?</div>
                <div class="rcm-answer" onclick="selectAnswer(this, false)">La edad del activo</div>
                <div class="rcm-answer" onclick="selectAnswer(this, true)">El contexto operacional donde se utiliza</div>
                <div class="rcm-answer" onclick="selectAnswer(this, false)">El costo de adquisición del activo</div>
            </div>

            <div class="rcm-definition-box">
                <div class="rcm-definition-title">Mantenimiento Centrado en Confiabilidad:</div>
                <div class="rcm-definition-text">Un proceso utilizado para determinar qué se debe hacer para asegurar que cualquier activo físico continúe haciendo lo que sus usuarios quieren que haga en su contexto operacional actual.</div>
            </div>
        </div>

        <div class="rcm-navigation">
            <button class="button2" id="prevBtn" onclick="previousSection()" disabled>Anterior</button>
            <button class="button2" id="nextBtn" onclick="nextSection()">Siguiente</button>
        </div>
    </div>

    <script>
        let currentSection = 1;
        const totalSections = 2;
        let correctAnswers = 0;

        function updateProgress() {
            const progress = (currentSection / totalSections) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
        }

        function showSection(sectionNumber) {
            document.querySelectorAll('.rcm-section').forEach(section => {
                section.style.display = 'none';
            });
            
            const targetSection = document.getElementById(`section${sectionNumber}`);
            if (targetSection) {
                targetSection.style.display = 'block';
                targetSection.classList.add('rcm-fade-in');
            }

            document.getElementById('prevBtn').disabled = sectionNumber === 1;
            document.getElementById('nextBtn').disabled = sectionNumber === totalSections;
            
            if (sectionNumber === totalSections) {
                document.getElementById('nextBtn').textContent = 'Completado';
            } else {
                document.getElementById('nextBtn').textContent = 'Siguiente';
            }

            updateProgress();
        }

        function nextSection() {
            if (currentSection < totalSections) {
                currentSection++;
                showSection(currentSection);
            }
        }

        function previousSection() {
            if (currentSection > 1) {
                currentSection--;
                showSection(currentSection);
            }
        }

        function toggleCard(card) {
            card.classList.toggle('active');
            
            if (card.classList.contains('active')) {
                card.classList.add('rcm-pulse');
                setTimeout(() => {
                    card.classList.remove('rcm-pulse');
                }, 2000);
            }
        }

        function selectAnswer(answerElement, isCorrect) {
            const allAnswers = answerElement.parentNode.querySelectorAll('.rcm-answer');
            
            allAnswers.forEach(answer => {
                answer.style.pointerEvents = 'none';
                if (answer !== answerElement) {
                    answer.style.opacity = '0.5';
                }
            });

            if (isCorrect) {
                answerElement.classList.add('correct');
                correctAnswers++;
                
                setTimeout(() => {
                    answerElement.classList.add('rcm-pulse');
                }, 100);
            } else {
                answerElement.style.background = '#FF0000';
                answerElement.style.color = '#FFFFFF';
                answerElement.style.borderColor = '#FF0000';
                
                const correctAnswer = Array.from(allAnswers).find(answer => {
                    return answer.getAttribute('onclick').includes('true');
                });
                if (correctAnswer) {
                    setTimeout(() => {
                        correctAnswer.classList.add('correct');
                    }, 1000);
                }
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            showSection(1);
            updateProgress();
        });

        window.addEventListener('resize', function() {
            const cards = document.querySelectorAll('.rcm-card');
            cards.forEach(card => {
                card.style.transition = 'none';
                setTimeout(() => {
                    card.style.transition = 'all 0.3s ease';
                }, 100);
            });
        });
    </script>


  </div>

  
  <!-- Botón de continuar -->
  <button class="start-button" onclick="goToNextPage()">Continuar <span class="arrow">❯</span></button>

  <!--AUDIOv2-->
  <div class="audio-control-wrapper" style="z-index: 9999;">
      <button class="audio-toggle-btn" id="audioToggle">
          <svg id="togglePlayIcon" viewBox="0 0 24 24">
              <path d="M8 5v14l11-7z" />
          </svg>
          <svg id="togglePauseIcon" viewBox="0 0 24 24" style="display: none">
              <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z" />
          </svg>
      </button>

      <div class="audio-controls" id="audioControls">
          <div class="custom-audio-player">
              <div class="audio-main-controls">
                  <button class="control-btn volume-btn" id="volumeToggle">
                      <svg id="volumeIcon" viewBox="0 0 24 24">
                          <path
                              d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02z" />
                      </svg>
                      <svg id="muteIcon" viewBox="0 0 24 24" style="display: none">
                          <path
                              d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z" />
                      </svg>
                  </button>

                  <button class="control-btn play-pause-btn" id="playPauseBtn">
                      <svg id="playIcon" viewBox="0 0 24 24">
                          <path d="M8 5v14l11-7z" />
                      </svg>
                      <svg id="pauseIcon" viewBox="0 0 24 24" style="display: none">
                          <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z" />
                      </svg>
                  </button>

                  <button class="control-btn speed-btn" id="speedBtn">
                      <svg viewBox="0 0 24 24">
                          <path
                              d="M20.38 8.57l-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44z" />
                          <path
                              d="M10.59 15.41a2 2 0 0 0 2.83 0l5.66-5.66a2 2 0 0 0-2.83-2.83L12 11.17 7.76 6.93a2 2 0 0 0-2.83 2.83l5.66 5.65z" />
                      </svg>
                  </button>
              </div>

              <div class="progress-container">
                  <div class="progress-bar" id="progressBar">
                      <div class="progress-fill" id="progressFill"></div>
                  </div>
                  <div class="time-display">
                      <span id="currentTime">0:00</span>
                      <span id="duration">0:00</span>
                  </div>
              </div>

              <div class="volume-control">
                  <div class="volume-slider" id="volumeSlider">
                      <div class="volume-fill" id="volumeFill"></div>
                  </div>
                  <div class="speed-control">
                      <span class="speed-display" id="speedDisplay">1x</span>
                  </div>
              </div>
          </div>

          <!-- Audio element oculto -->
          <audio id="audioPlayer" preload="metadata" autoplay>
              <source src="../assets/audio/M2/M2au6.wav" type="audio/mp3" />
              Tu navegador no soporta el elemento de audio.
          </audio>
      </div>
  </div>

  <script src="../js/audioPlayer.js"></script>
  <!--///////-->
  <!-- Scripts funcionales -->
  <script src="../js/SCORM.js"></script>
  <script src="../js/M2/M2pg7.js"></script>
  <script>
    // Navegación
    function goHome() { window.location.href = '../index.html'; }
    function backPage() { window.location.href = 'M2_pagina5.html'; }
    function goToNextPage() { window.location.href = 'M2_pagina7.html'; }

    ScormManager.init();
    ScormManager.guardarProgreso("M2_pagina6.html");

    document.addEventListener("DOMContentLoaded", () => {
      const progreso = ScormManager.cargarProgreso();
      const porcentaje = progreso.score ? parseInt(progreso.score) : 0;
      document.getElementById("progreso-barra").style.width = porcentaje + "%";
      document.getElementById("progreso-texto").textContent = porcentaje + "%";
    });
  </script>


</body>
</html>
