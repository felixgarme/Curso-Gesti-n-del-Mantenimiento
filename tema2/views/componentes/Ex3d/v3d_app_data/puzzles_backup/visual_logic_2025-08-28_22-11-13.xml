<xml xmlns="http://www.w3.org/1999/xhtml">
  <tab name="Init" type="InitTab" active="false" scrollx="1512" scrolly="520.6666564941406" scale="0.9"></tab>
  <tab name="General" type="CommonTab" active="true" scrollx="1066.9892498323102" scrolly="280.80933851654993" scale="0.45811151251766846">
    <block xmlns="https://developers.google.com/blockly/xml" type="connectorSlot" id="`beoLp:5Abf!`H/?GhcJ" x="-1401" y="-191">
      <statement name="DO">
        <block type="execScript" id="|N5Ox%2G~8]eAHUa?sRy">
          <value name="TEXT">
            <shadow type="textMultiline" id="O3+e6j+@vra[jI$-9N1Y">
              <field name="HIGHLIGHT_MODE">javascript</field>
              <field name="TEXT" editor-height="7" editor-width="889.9444277551643">// Ejemplo: un poquito menos que 90°&amp;#10;// 1.57 rad = 90° exacto&amp;#10;// 1.4 rad ≈ 80°&amp;#10;app.controls.maxPolarAngle = 1.4;  // unos 80°, no llega a ver por debajo&amp;#10;</field>
            </shadow>
          </value>
          <next>
            <block type="execScript" id="nF[ZM2MLY@uMO{Ts#kX(">
              <value name="TEXT">
                <shadow type="textMultiline" id="gDLk!qHgCs,kv96j2_vU">
                  <field name="HIGHLIGHT_MODE">javascript</field>
                  <field name="TEXT" editor-height="18" editor-width="889.9444277551643">// Solo si app ya fue creado anteriormente (por ejemplo, en Puzzles o en init global)&amp;#10;(function(app) {&amp;#10;  app.renderer.setClearColor(0x000000, 0);&amp;#10;  app.scene.background = null;&amp;#10;  const container = app.container || document.getElementById('v3d-container');&amp;#10;  if (container) {&amp;#10;    container.style.background = 'transparent';&amp;#10;    if (app.renderer.domElement) {&amp;#10;      app.renderer.domElement.style.background = 'transparent';&amp;#10;    }&amp;#10;  }&amp;#10;})(app);&amp;#10;</field>
                </shadow>
              </value>
              <next>
                <block type="execScript" id="qFT(NH8!0DcuRAF/oKiL">
                  <value name="TEXT">
                    <shadow type="textMultiline" id="Fna_@c_j3jR$!SS.fT0S">
                      <field name="HIGHLIGHT_MODE">javascript</field>
                      <field name="TEXT" editor-height="7" editor-width="889.9444277551643">let idleTime = 0;&amp;#10;const idleThreshold = 3; // segundos antes de que comience a rotar&amp;#10;const rotateSpeed = 0.01; // velocidad de rotación&amp;#10;&amp;#10;// Detectar interacción del usuario&amp;#10;['mousedown', 'touchstart', 'mousemove', 'wheel'].forEach(evt =&gt;&amp;#10;  window.addEventListener(evt, () =&gt; idleTime = 0)&amp;#10;);&amp;#10;&amp;#10;// Bucle de animación&amp;#10;function animate() {&amp;#10;  requestAnimationFrame(animate);&amp;#10;&amp;#10;  idleTime += 1 / 60; // considerando ~60fps&amp;#10;&amp;#10;  if (idleTime &gt;= idleThreshold) {&amp;#10;    // Rotar automáticamente&amp;#10;    if (app.controls &amp;&amp; typeof app.controls.autoRotate !== 'undefined') {&amp;#10;      app.controls.autoRotate = true;&amp;#10;    } else {&amp;#10;      // Fallback si no hay OrbitControls:&amp;#10;      app.scene.rotation.y += rotateSpeed;&amp;#10;    }&amp;#10;  } else {&amp;#10;    if (app.controls &amp;&amp; typeof app.controls.autoRotate !== 'undefined') {&amp;#10;      app.controls.autoRotate = false;&amp;#10;    }&amp;#10;  }&amp;#10;&amp;#10;  app.render(); // o como lo tengas definido&amp;#10;}&amp;#10;&amp;#10;animate();&amp;#10;</field>
                    </shadow>
                  </value>
                </block>
              </next>
            </block>
          </next>
        </block>
      </statement>
    </block>
  </tab>
  <editorsettings viewport-x="1047" viewport-y="35.88888931274414" viewport-w="710" viewport-h="398.5" viewport-hidden="true" toolbox-library-mode="false" toolbox-minimized-mode="false"></editorsettings>
</xml>